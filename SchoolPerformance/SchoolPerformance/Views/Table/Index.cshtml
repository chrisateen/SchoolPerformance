@model IEnumerable<SchoolPerformance.ViewModels.TableViewModel>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/datatables/css/dataTables.bootstrap4.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/responsive/2.2.5/css/responsive.dataTables.min.css" rel="stylesheet" />
<link href="~/css/TableStyle.css" rel="stylesheet" />
<script src="~/xlsx/xlsx.core.min.js"></script>
<script src="~/FileSaver.js/FileSaver.js"></script>
<script src="~/TableExport/tableExport.min.js"></script>
<script src="~/datatables/js/jquery.dataTables.js"></script>
<script src="~/datatables/js/dataTables.bootstrap4.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.5/js/dataTables.responsive.min.js"></script>

<div class="content-wrapper">

    <div class="pl-5 pr-5 pt-5">
        <div id="toolbar" class="select">
        </div>
        <table id="resultsTable" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(m => m.First().SCHNAME)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.First().PTFSM6CLA1A)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.First().ATT8SCR)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.First().P8MEA)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.First().PTL2BASICS_94)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.First().PTL2BASICS_95)
                    </th>
                </tr>
            </thead>

        </table>

    </div>
</div>

<script>

    //Convert the IEnumerable list of TableViewModel
    //To a list of JSON objects
    var results = @Json.Serialize(Model);

    var $table = $('#resultsTable');

    //Adds the data to the table
    $(function () {
        $table.DataTable({
            data: results,
            columns: [
                { "data": "schname" },
                { "data": "ptfsM6CLA1A" },
                { "data": "atT8SCR" },
                { "data": "p8MEA" },
                { "data": "ptL2BASICS_94" },
                { "data": "ptL2BASICS_95" }
            ]
            })
    });

</script>

